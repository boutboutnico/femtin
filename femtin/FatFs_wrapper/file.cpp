///
/// \file	file
///	\brief	
///	\date	24/04/2015
/// \author	nboutin
///

#include "file.hpp"
using namespace femtin::fatfs;

/// === Includes	================================================================================
/// === Namespaces	================================================================================
/// === Constants	================================================================================
/// === Public Definitions	========================================================================

File::File()
		: file_(), name_()
{

}

/// ------------------------------------------------------------------------------------------------

FRESULT File::open(const femtin::String<FILENAME_SIZE>& _filename, uint8_t _mode)
{
	name_ = _filename;
	return f_open(&file_, _filename.c_str(), _mode);
}

/// ------------------------------------------------------------------------------------------------

FRESULT File::close()
{
	return f_close(&file_);
}

/// ------------------------------------------------------------------------------------------------

FRESULT File::sync()
{
	return f_sync(&file_);
}

/// ------------------------------------------------------------------------------------------------

FRESULT File::lseek(uint32_t _offset)
{
	return f_lseek(&file_, _offset);
}

/// ------------------------------------------------------------------------------------------------

char* File::gets(char* _str, size_t _len)
{
	return f_gets(_str, _len, &file_);
}

/// ------------------------------------------------------------------------------------------------

//int16_t File::putc(const char _c)
//{
//	return f_putc(_c, &file_);
//}

/// ------------------------------------------------------------------------------------------------

int16_t File::puts(const char* _str)
{
	return static_cast<int16_t>(f_puts(_str, &file_));
}

/// === Private Definitions	========================================================================
/// ------------------------------------------------------------------------------------------------
/// === END OF FILE	================================================================================
